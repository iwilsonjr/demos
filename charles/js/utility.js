const localPath="/wp-content/themes/charles-child/",html=document.querySelector("html"),body=document.querySelector("body"),archives=document.getElementById("archives"),inputSearch=document.getElementById("inputSearch"),container=document.querySelector(".container"),btnNavigation=document.getElementById("btnNavigation"),navFind=document.querySelector("[href='#find']"),navContact=document.querySelector("[href*='contact/']"),selectMonth=document.getElementById("selectMonthArchive"),search=document.getElementById("search");let message="";function openNavigation(){container.classList.toggle("jsNavOpen"),navContact.parentElement.classList.remove("selected"),navFind.parentElement.classList.toggle("selected"),event.preventDefault()}html.className.indexOf("no-js")>-1&&html.removeAttribute("class"),btnNavigation.addEventListener("click",function(){openNavigation()}),navFind.addEventListener("click",function(){openNavigation()}),selectMonth.addEventListener("click",function(){"Select Month/Year"===archives.value&&(event.preventDefault(),null===document.querySelector("#archivesForm span")&&(message='<span class="error" id="archivesError" aria-live="polite">Please select a date.</span>',archives.setAttribute("aria-describedby","archivesError"),archives.insertAdjacentHTML("beforebegin",message),archives.classList.add("errorField"),archives.focus()))}),search.addEventListener("click",function(){""===inputSearch.value.trim()&&(event.preventDefault(),null===document.querySelector("#searchForm span")&&(message='<span class="error" id="searchError" aria-live="polite">Please type some text.</span>',inputSearch.setAttribute("aria-describedby","searchError"),inputSearch.insertAdjacentHTML("beforebegin",message),inputSearch.classList.add("errorField"),inputSearch.focus()))}),navContact.addEventListener("click",function(){event.preventDefault();const e=document.getElementById("ajaxWindow");if(e.className.indexOf("hide")>-1){const t=`<div class="loading"><img src="${localPath}images/content/loading.png" width="163" height="163" alt="Loading..." /></div>`,n='<button type="button" class="closeWindow">[X] Close</button>';e.setAttribute("aria-live","polite"),e.classList.remove("hide"),e.innerHTML=t,navContact.parentElement.classList.contains("selected")||container.classList.contains("jsNavOpen")&&(container.classList.remove("jsNavOpen"),navFind.parentElement.classList.toggle("selected")),axios.get("contact/").then(function(t){const a=(new DOMParser).parseFromString(t.data,"text/html").querySelector("#contactForm");document.querySelector(".loading").remove(),e.appendChild(a),e.insertAdjacentHTML("afterbegin",n),document.querySelector("[name='sendemail']").addEventListener("click",function(){event.preventDefault();document.querySelectorAll(".requiredField");console.log(!1);{const e=document.getElementById("contactName"),t=document.getElementById("email"),n=document.getElementById("commentsText");let c=new FormData;c.append("contactName",e.value),c.append("email",t.value),c.append("comments",n.value),axios.post(a.action,c,function(e){console.log(c)}).then(function(e){resolve(e),console.log(e)})}})})}else e.classList.add("hide"),e.textContent="",e.removeAttribute("aria-live")});